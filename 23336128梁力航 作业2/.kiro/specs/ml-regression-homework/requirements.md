# 需求文档

## 简介

本项目从零实现线性回归和逻辑回归模型，以完成机器学习作业。实现将使用梯度下降和随机梯度下降优化方法在提供的数据集上训练模型，分析收敛行为，并在测试数据上评估性能。

## 需求

### 需求 1: 使用梯度下降的线性回归

**用户故事:** 作为学生，我想使用梯度下降实现多变量线性回归，以便根据面积和距离特征预测房价。

#### 验收标准

1. WHEN 加载训练数据文件 "dataForTrainingLinear.txt" THEN 系统应解析50个训练样本，包含2个特征（房屋面积（平方米）、距离学院的距离（千米））和1个目标值（价格（亿元））
2. WHEN 模型初始化 THEN 系统应将所有参数设置为0.0，学习率设置为0.00015，迭代次数设置为1500000
3. WHEN 执行梯度下降训练 THEN 系统应使用均方误差损失函数的梯度同时更新所有参数
4. WHEN 训练达到100000、200000、...、1500000次迭代 THEN 系统应计算并记录训练误差和测试误差
5. WHEN 训练完成 THEN 系统应生成显示训练误差和测试误差随迭代次数变化的图表
6. WHEN 加载测试数据文件 "dataForTestingLinear.txt" THEN 系统应在测试样本上评估训练好的模型

### 需求 2: 学习率分析

**用户故事:** 作为学生，我想尝试不同的学习率，以便理解学习率如何影响模型收敛。

#### 验收标准

1. WHEN 学习率改为0.0002 THEN 系统应使用新的学习率重新训练模型
2. WHEN 使用不同学习率训练 THEN 系统应跟踪并比较收敛行为
3. WHEN 分析完成 THEN 系统应提供关于学习率对收敛速度和稳定性影响的观察结果

### 需求 3: 随机梯度下降实现

**用户故事:** 作为学生，我想为线性回归实现随机梯度下降，以便将其与批量梯度下降进行比较。

#### 验收标准

1. WHEN 执行随机梯度下降 THEN 系统应每次使用一个随机训练样本更新参数
2. WHEN SGD训练进行中 THEN 系统应定期记录训练和测试误差（每K次迭代）
3. WHEN SGD训练完成 THEN 系统应生成比较SGD收敛与批量梯度下降收敛的图表

### 需求 4: 逻辑回归实现

**用户故事:** 作为学生，我想实现用于二分类的逻辑回归，以便将样本分类到两个类别中。

#### 验收标准

1. WHEN 加载训练数据文件 "dataForTrainingLogistic.txt" THEN 系统应解析包含6个特征和1个二元标签（0或1）的训练样本
2. WHEN 模型初始化 THEN 系统应设置带有sigmoid激活函数的逻辑回归参数
3. WHEN 执行训练 THEN 系统应使用梯度上升最大化条件对数似然
4. WHEN 加载测试数据文件 "dataForTestingLogistic.txt" THEN 系统应预测测试样本的标签
5. WHEN 进行预测 THEN 系统应计算并报告误分类样本的数量

### 需求 5: 逻辑回归数学推导

**用户故事:** 作为学生，我想推导逻辑回归的目标函数和梯度，以便理解算法的数学基础。

#### 验收标准

1. WHEN 推导目标函数 THEN 系统文档应包含用标签y^(i)、特征x^(i)和参数w表示的条件对数似然公式
2. WHEN 计算梯度 THEN 系统文档应包含有限和形式的偏导数∂f/∂w_0和∂f/∂w_j

### 需求 6: 逻辑回归收敛分析

**用户故事:** 作为学生，我想可视化训练期间的目标函数值，以便验证优化算法的收敛性。

#### 验收标准

1. WHEN 执行随机梯度上升 THEN 系统应记录每次迭代的目标函数值
2. WHEN 训练完成 THEN 系统应生成x轴为迭代次数、y轴为目标值的图表
3. WHEN 分析收敛性 THEN 系统应报告收敛所需的迭代次数

### 需求 7: 训练集大小分析

**用户故事:** 作为学生，我想分析训练集大小如何影响模型性能，以便理解数据量与泛化能力之间的关系。

#### 验收标准

1. WHEN 执行大小分析 THEN 系统应遍历训练集大小k，k属于{10, 20, 30, ..., 380, 390, 400}
2. WHEN 使用大小k训练 THEN 系统应从训练数据中随机选择k个样本
3. WHEN 评估每个模型 THEN 系统应计算k个样本子集上的训练误差和完整测试集上的测试误差
4. WHEN 分析完成 THEN 系统应生成包含两条线的图表：蓝色表示训练误差vs k，红色表示测试误差vs k
5. WHEN 生成图表 THEN 系统应包含坐标轴标签、图例和标题

### 需求 8: 结果可视化和报告

**用户故事:** 作为学生，我想生成清晰的可视化和报告，以便有效地展示我的发现。

#### 验收标准

1. WHEN 生成图表 THEN 系统应包含适当的坐标轴标签、标题和图例
2. WHEN 训练完成 THEN 系统应输出最优参数值
3. WHEN 执行分析 THEN 系统应提供发现和观察的文字总结
