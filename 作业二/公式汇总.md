好的，以下是您提供的课件文档中所有重要公式的 Markdown-LaTeX 格式整理和详解。

一、核心评估指标：精确率 (Precision) 与召回率 (Recall)

这是评估信息检索系统最基础的二元指标，基于相关（Rel）和不相关（NotRel）的文档集合。

•   精确率 (Precision)：衡量返回结果的准确性。

    
    P = \frac{\text{Ret}_{\text{Rel}} }{ \text{Retrieved}
} = \frac{\text{True Positives}}{\text{True Positives} + \text{False Positives}}
    

•   召回率 (Recall)：衡量返回结果的全面性。

    
    R = \frac{\text{Ret}_{\text{Rel}} }{ \text{Relevant}
} = \frac{\text{True Positives}}{\text{True Positives} + \text{False Negatives}}
    

二、综合指标：F-Measure 与 E-Measure

为了平衡精确率和召回率，引入了综合指标。

•   F₁ Measure (F-Score)：精确率和召回率的调和平均数。

    
    F_1 = \frac{2 \cdot P \cdot R}{P + R}
    

•   E-Measure：F-Measure 的更一般形式，参数 b 决定了精确率和召回率的相对重要性。

    
    E = 1 - \frac{1 + \beta^2}{\frac{\beta^2}{P} + \frac{1}{R}}
    
    ◦   当 β = 1 时，等同于 F₁ Measure。

    ◦   当 β < 1 时，更重视精确率。

    ◦   当 β > 1 时，更重视召回率。

三、基于排序的评估指标 (Rank-Based Measures)

现代检索系统返回排序列表，因此需要更能评估排序质量的指标。

•   Precision@K：在排名前 K 的结果中，相关文档的比例。

    
    P@K = \frac{\text{number of relevant documents in top } K}{K}
    

•   Recall@K：在排名前 K 的结果中，相关文档数占所有相关文档的比例。

    
    R@K = \frac{\text{number of relevant documents in top } K}{\text{total number of relevant documents in collection}}
    

•   平均精度 (Average Precision, AP)：对单个查询的排序质量评估，考虑了所有相关文档的排名位置。

    
    AP = \frac{1}{R} \sum_{k=1}^{N} P@k \cdot \text{rel}(k)
    
    其中 rel(k) 是一个指示函数，当第 k 个文档相关时取 1，否则取 0。R 是总相关文档数。

•   平均平均精度 (Mean Average Precision, MAP)：对所有查询的 AP 求平均值，是衡量系统整体排序性能的稳定指标。

    
    MAP = \frac{1}{Q} \sum_{q=1}^{Q} AP(q)
    
    其中 Q 是查询的总数。

•   平均倒数排名 (Mean Reciprocal Rank, MRR)：适用于看重第一个正确答案的场景（如问答系统）。

    
    MRR = \frac{1}{Q} \sum_{i=1}^{Q} \frac{1}{\text{rank}_i}
    
    其中 rank_i 是第 i 个查询的第一个相关结果的排名位置。

四、基于分级相关性的评估指标

这些指标使用多等级的相关性（如 0=差, 1=一般, 2=良好, 3=优秀, 4=完美），能更精细地衡量用户体验。

•   折损累积增益 (Discounted Cumulative Gain, DCG)：衡量前 K 个结果的累积增益，并对排名靠后的结果进行折损。

    公式 1（常用）:
    
    DCG@K = \sum_{i=1}^{K} \frac{\text{rel}_i}{\log_2(i+1)}
    
    公式 2（强调高等级相关性）:
    
    DCG@K = \sum_{i=1}^{K} \frac{2^{\text{rel}_i} - 1}{\log_2(i+1)}
    
    其中 rel_i 是第 i 个位置文档的相关性等级。

•   归一化折损累积增益 (Normalized Discounted Cumulative Gain, NDCG)：将 DCG 归一化，以便在不同查询之间进行公平比较。

    
    NDCG@K = \frac{DCG@K}{IDCG@K}
    
    其中 IDCG@K 是理想排序下的 DCG@K 值（即将所有文档按相关性等级从高到低排序后计算得到的 DCG）。

五、文本生成评估指标：ROUGE

主要用于评估自动文摘、机器翻译等文本生成任务的质量。

•   ROUGE-N：计算生成文本与参考文本之间的 N-gram 重叠率。

    
    \text{ROUGE-N} = \frac{\sum_{s \in \{\text{Refs}\}} \sum_{\text{gram}_n \in s} \text{Count}_{\text{match}}(\text{gram}_n)}{\sum_{s \in \{\text{Refs}\}} \sum_{\text{gram}_n \in s} \text{Count}(\text{gram}_n)}
    
    其中 N 代表 n-gram 的长度，Count_match(gram_n) 是生成文本和参考文本中共同出现的 n-gram 的数量。

希望这份用 LaTeX 整理的公式列表能帮助您更好地理解和应用这些信息检索领域的核心评估指标。