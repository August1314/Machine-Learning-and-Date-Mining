# 实现计划

- [x] 1. 创建项目结构和数据加载功能
  - 创建主程序文件`Homework 4/svm_classifier.py`
  - 实现`load_data()`函数读取train.txt和test.txt
  - 解析CSV格式数据，处理空格
  - 区分训练集（有标签）和测试集（无标签）
  - _需求: 1.1, 1.2_

- [x] 2. 实现数据预处理模块
  - [x] 2.1 创建DataPreprocessor类基本结构
    - 定义类和初始化方法
    - 创建存储统计信息的属性（均值、标准差、类别映射）
    - _需求: 1.3, 1.4_
  
  - [x] 2.2 实现特征类型识别和分类特征编码
    - 识别数值特征和分类特征
    - 实现标签编码（Label Encoding）
    - 处理缺失值"?"
    - 为测试集未见类别创建处理逻辑
    - _需求: 1.3, 1.6_
  
  - [x] 2.3 实现数值特征标准化
    - 实现Z-score标准化
    - 在训练集上计算均值和标准差
    - 使用训练集参数标准化测试集
    - _需求: 1.4_
  
  - [x] 2.4 实现标签编码
    - 将"<=50K"转换为-1
    - 将">50K"转换为+1
    - _需求: 1.5_

- [x] 3. 实现SVM分类器核心算法
  - [x] 3.1 创建SVMClassifier类结构
    - 定义类和初始化方法
    - 设置超参数（learning_rate, lambda_param, n_epochs）
    - 初始化权重和偏置
    - _需求: 2.4, 2.5_
  
  - [x] 3.2 实现SGD训练算法
    - 实现训练循环（epochs）
    - 实现随机样本选择
    - 按照作业提供的梯度公式计算梯度
    - 实现参数更新逻辑
    - 添加训练进度打印
    - _需求: 2.1, 2.2, 2.3, 2.6_
  
  - [x] 3.3 实现预测功能
    - 计算决策函数 a^T * x + b
    - 实现sign函数
    - 返回-1或+1的预测标签
    - _需求: 3.1_
  
  - [x] 3.4 实现准确率计算
    - 比较预测标签和真实标签
    - 计算准确率百分比
    - _需求: 3.2_

- [x] 4. 实现模型评估功能
  - 创建evaluate_model()函数
  - 在测试集上进行预测
  - 计算并打印测试准确率
  - 格式化输出以便截图
  - _需求: 3.2, 3.3_

- [x] 5. 实现正则化分析功能
  - [x] 5.1 创建regularization_analysis()函数
    - 遍历λ值列表[1e-3, 1e-2, 1e-1, 1]
    - 对每个λ值训练新的SVM模型
    - 记录每个模型的测试准确率
    - _需求: 4.1, 4.2_
  
  - [x] 5.2 生成分析结果和解释
    - 创建结果表格显示λ值和准确率
    - 生成关于正则化影响的文字说明
    - 解释准确率趋势的原因
    - _需求: 4.3, 4.4_

- [ ] 6. 实现结果输出功能
  - [x] 6.1 创建结果摘要文件
    - 生成results_summary.txt
    - 包含数据集信息
    - 包含所有λ值的准确率结果
    - 包含正则化分析说明
    - _需求: 3.4, 4.5, 5.4_
  
  - [x] 6.2 创建可视化图表（可选）
    - 使用matplotlib绘制λ vs 准确率图表
    - 保存为regularization_analysis.png
    - _需求: 4.5_

- [x] 7. 完善代码文档和注释
  - 在代码开头添加SVM概念说明
  - 添加实现方法概述
  - 为关键函数添加详细注释
  - 添加中文注释说明关键步骤
  - _需求: 5.1, 5.2_

- [x] 8. 创建主程序入口和测试
  - [x] 8.1 实现main()函数
    - 加载和预处理数据
    - 训练SVM模型
    - 评估模型性能
    - 运行正则化分析
    - 生成所有输出文件
    - _需求: 5.3, 5.4_
  
  - [x] 8.2 测试完整流程
    - 运行程序确保无错误
    - 验证输出格式正确
    - 检查准确率在合理范围内
    - 确保所有文件保存到Homework 4目录
    - _需求: 5.3, 5.4_

- [x] 9. 最终验证和优化
  - 验证不使用sklearn等预构建SVM包
  - 确认梯度公式实现正确
  - 检查所有作业要求是否满足
  - 优化代码可读性
  - 确保输出适合截图展示
  - _需求: 2.1, 5.1, 5.2_
